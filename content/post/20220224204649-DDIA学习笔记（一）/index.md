---
title: "DDIA学习笔记（一）"
slug: DDIA学习笔记（一）
date: 2022-02-24T20:46:49+08:00
draft: true
---

<!--more-->

# 前言

很早就买了*Designing Data-Intensive Applications*在书柜吃灰，偶然一天晚上打开看了一下就被内容吸引了，于是每天晚上回家第一件事就是看几节。这里用博客记录下阅读时的一些笔记和感悟。

# Chapter 1. Reliable, Scalable, and Maintainable Applications

针对目前市面上的很多数据库应用，这本书从不同的角度分析这些应用的设计思路以及想要解决的问题，帮助我们更好地利用这些应用解决手头上的问题。

这本书主要关注数据系统以下三个方面：

1. 可靠性：在遇到问题时，系统能否继续正常工作。
2. 可扩展性：随着系统grow，系统自身需要有合理的机制来应对这个增长。
3. 可维护性：不同角色都能高效的使用系统

## 可靠性

## 可扩展性

## 可维护性

# Chapter 2. Data Models and Query Languages

在编写程序时的一个常用的方法是，对软件进行分层，不同层处理不同层的业务。层与层之间通过协议相互交流，而协议其实就是定义了一个数据模型。一个典型的应用结构如下图所示：

{{< tfigure src="images/[ch2]application-layer.jpg" title="" width="70%" class="align-center">}}

本章主要关注第二层结构，介绍一些通用的数据结构。

## Relational Model Versus Document Model

目前最常见的数据模型就是SQL，基于关系模型：数据通过关系组织，而每个关系中由许多无序的元组组成（关系就是表，元组就是行）。除了关系模型外，还有network Model、hierarchical model等。

如今我们通常用面向对象的方式来设计程序，而对象和SQL中的关系不会严格的对应。二者之间通常由一层ORM层进行转换，但是二者之间的不匹配没有完全地解决。例如如果一个简历上有人的基本信息、工作经历、教育经历等信息。其中工作经历和教育经历通常有多个。因此基本信息和这两个经历的关系就是一对多的关系。如果我们用关系模型来存储，通常有三种方案：

1. 传统SQL模型，将三个信息存储到三个表中，使用一个外键来指向user表。
2. 将这些信息以json、xml的形式存储到一行中，使用SQL新特性来检索其中的信息。
3. 将这些信息表示为json、xml，然后以text的形式存储到一行中，这种方法需要程序自己处理里面的数据。

但是其实对于简历这种数据来说，非常容易使用json、xml等格式直接存储，使用document-oriented的数据库就非常合适。